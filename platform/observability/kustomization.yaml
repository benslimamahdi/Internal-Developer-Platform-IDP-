apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

helmCharts:
  - name: kube-prometheus-stack
    repo: https://prometheus-community.github.io/helm-charts
    version: 56.6.0
    releaseName: prometheus
    namespace: observability
    valuesInline:
      grafana:
        # adminPassword extracted to Secret (e.g. grafana-admin-credentials)
        # adminPassword: "admin" <-- REMOVED for Security Audit
        service:
          type: ClusterIP
      prometheus:
        prometheusSpec:
          serviceMonitorSelectorNilUsesHelmValues: false
          podMonitorSelectorNilUsesHelmValues: false
